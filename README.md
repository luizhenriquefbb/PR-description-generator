<div align="center">
   <img src="./assets/readme-logo.png" alt="logo" width="300">
</div>

# Create PR with Automatically Generated Description

**Note: This project was created for study purposes.**

This script automates the process of creating a pull request (PR) on GitHub with a title and description generated by the Gemini AI model. It analyzes the changes between two git branches, uses Gemini to create a concise title and a detailed description, and then uses the GitHub CLI to create the PR.

## Prerequisites

1.  Install the dependencies from the `requirements.txt` file using the command `pip install -r requirements.txt`.
2.  Install the GitHub CLI. You can install the GitHub CLI from [https://cli.github.com/](https://cli.github.com/).
3.  Add the Gemini API key to the `.env` file as `LLM_KEY`. You can obtain a Gemini API key from [https://makersuite.google.com/app/apikey](https://makersuite.google.com/app/apikey).

## How to Use

1. Ensure you have the `.env` file properly configured with your `LLM_KEY`, `GH_TOKEN`, and other necessary environment variables.

   To save your GitHub token, run:
   ```bash
   gh auth token
   ```
   Then, add the following line to your `.env` file:
   ```
   GH_TOKEN=<your-github-token>
   ```

## Running with Docker

1. Build the Docker image:
   ```bash
   docker build -t create-pr .
   ```

2. Run the container:
   ```bash
   docker run -it \
    --env-file .env \
    -v $(pwd):/app \
    -v <path to your project>:/git_repo \
    create-pr \
    --interactive
   ```

## Running locally


1.  Clone the repository.
2.  Create a `.env` file in the root directory and add your Gemini API key as `LLM_KEY`.
3.  Install the dependencies using the command `pip install -r requirements.txt`.
4.  Authenticate with GitHub CLI using the command `gh auth login`.
5.  Run the script using the command
   ```bash
      python create_pr.py \
         --base_branch <base_branch> \
         --current_branch <current_branch> \
         --title "<optional title>"
   ```

   5.1 To run the script in interactive mode, use the command

   ```bash
   python create_pr.py \
         --interactive
   ```
6.  The script will then generate a title and description for the PR using the Gemini AI model and create the PR.
